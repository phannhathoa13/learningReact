âœ… Má»¥c 6: Danh sÃ¡ch & Key

ðŸ§  CÃ¢u há»i:
.map() dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬ trong JSX?
=> dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ra cÃ¡c pháº§n tá»­ jsx hoáº·c cÃ¡c danh sÃ¡ch pháº§n tá»­ jsx
Táº¡i sao cáº§n key khi render list?
=> Ä‘á»ƒ khi render thÃ¬ React phÃ¢n Ä‘á»‹nh Ä‘á»‹a chá»‰ cá»§a tá»«ng pháº§n tá»­, náº¿u cÃ³ sá»± thay Ä‘á»•i táº¡i pháº§n tá»­ Ä‘Ã³ thÃ¬ ko cáº§n Re-Render
láº¡i cáº£ components

ðŸ§ª BÃ i táº­p:
- Hiá»ƒn thá»‹ danh sÃ¡ch sáº£n pháº©m vá»›i tÃªn, giÃ¡, vÃ  hÃ¬nh áº£nh &&
- DÃ¹ng .map() Ä‘á»ƒ táº¡o ra list tháº» <li> tá»« máº£ng tÃªn.
  - Hiá»ƒn thá»‹ danh sÃ¡ch ngÆ°á»i dÃ¹ng tá»« API (useEffect + useState).
  - ThÃªm nÃºt "XoÃ¡" tá»«ng dÃ²ng â†’ xÃ³a item khá»i state.

  => TÃ´i lÃ m 1 Components cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng cho danh sÃ¡ch sáº£n pháº©m vÃ  danh sÃ¡cch User

  => Trang DisplayList.jsx Gá»“m {
  import { ButtonRemoveItem } from "../RemoveItem/RemoveItem";

  function DisplayList({ title,list,onClickRemove }) {
  return (
  <div>
    <h2>{title}</h2>
    {list.map((listValue) => (
    <div key={listValue.id}>
      {titleIdentify(listValue, title, onClickRemove)}
    </div>
    ))}
  </div>
  );
  }

  function titleIdentify(listValue, title,onClickRemove) {
  if (title == "Products") {
  return (
<li style={{ display: "flex" , alignItems: "center" , margin: "10px" }}>
  <img src={listValue.image} style={{ width: "70px" , height: "50px" }}></img>
  Name: {listValue.name} Price: {listValue.price}
  <ButtonRemoveItem onClickRemove={onClickRemove} dataId={listValue.id} />
</li>
);
} else if (title == "Users") {
return (
<li style={{margin: "10px" ,}}>
  Name: {listValue.name} Username: {listValue.username} email:{" "}
  {listValue.email} phone: {listValue.phone}
  <ButtonRemoveItem onClickRemove={onClickRemove} dataId={listValue.id} />
</li>
);
}
}

export { DisplayList };
}

=> Trang UserControllers gá»“m {
const listUsersApi = ("https://jsonplaceholder.typicode.com/users");
async function fetchListUsers$() {
try {
const reponse = await fetch(listUsersApi);
return await reponse.json()
} catch (error) {
console.log("Fetch list user ger erorr", error);
}
}
export { fetchListUsers$ }
}

=> Trang ButtonRemoveItem Gá»“m {
function ButtonRemoveItem({onClickRemove, dataId}) {
return <button onClick={()=> onClickRemove(dataId)}>Remove</button>
}

export {ButtonRemoveItem}
}

=> Trang App.js gá»“m {
import { useState } from "react"
import { DisplayList } from "./DisplayList/DisplayList"
import { fetchListUsers$ } from "./controllers/usersControllers";

const listUser = await fetchListUsers$();

const listProducts = [
{ id: 1, name: "iPhone 15 Pro", price: "30.000.000 VNÄ", image:
"https://tse4.mm.bing.net/th?id=OIP.HdFzMBPOKKKvmqjw28b1NAHaE7&w=315&h=315&c=7" },
{ id: 2, name: "Samsung Galaxy S24 Ultra", price: "28.000.000 VNÄ", image:
"https://tse4.mm.bing.net/th?id=OIP.evJadDOV8fCafwFpfXlCFwHaHb&w=474&h=474&c=7" },
{ id: 3, name: "MacBook Air M3", price: "32.000.000 VNÄ", image:
"https://tse4.mm.bing.net/th?id=OIP.SDaCiuck6kvvKQGXWPIVhgHaEK&w=266&h=266&c=7" },
{ id: 4, name: "iPad Pro M2", price: "25.000.000 VNÄ", image:
"https://tse2.mm.bing.net/th?id=OIP.jIvaIyHCvAh37N-ryLYhuAHaHa&w=474&h=474&c=7" },
{ id: 5, name: "Sony WH-1000XM5", price: "9.000.000 VNÄ", image:
"https://tse4.mm.bing.net/th?id=OIP.jzVtyTSDIE3hMKn307UNFQHaHa&w=474&h=474&c=7" }
]

function DisplayListProducts() {
const [products, setProducts] = useState(listProducts);

function removeProduct(id) {
setProducts((preProducts) => preProducts.filter((_products) => _products.id !== id))
};
return (
<>
  <DisplayList title={"Products"} list={products} onClickRemove={removeProduct} />
  {console.log(products)}
</>
)
}

function DisplayListUser() {
const [users, setUsers] = useState(listUser);

function removeUser(id) {
setUsers((preUser) => preUser.filter((user) => user.id !== id))
}

return (
<>
  <DisplayList title={"Users"} list={users} onClickRemove={removeUser} />
  {console.log(users)}
</>
)
}

export { DisplayListProducts, DisplayListUser }

}